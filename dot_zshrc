# Path to your oh-my-zsh installation.
export ZSH=~/.oh-my-zsh
export ZSH_CUSTOM=$ZSH/custom

# oh-my-zsh options
HYPHEN_INSENSITIVE="true"
COMPLETION_WAITING_DOTS="true"
ZSH_THEME="spaceship"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(
  git
  ruby
  docker
  github
  httpie
  nvm
  yarn  
)

if [ -d "$ZSH_CUSTOM/plugins/zsh-autosuggestions" ] ; then
  plugins+=( zsh-autosuggestions )
fi

source $ZSH/oh-my-zsh.sh

# User configuration

if which chezmoi>/dev/null; then
  export DOTFILES=~/.dotfiles
  eval $(chezmoi completion zsh)
fi

alias cm=chezmoi

alias s=subl
alias gprune='git branch --merged | egrep -v "(^\*|master|dev)" | xargs git branch -d && git remote prune origin'
alias gwip='gaa && gc -m "wip" -n'
alias be='bundle exec'
alias mongo_start='docker run -d -p 27017:27017 -p 28017:28017 -e AUTH=no tutum/mongodb:2.6'

function n () {
  ./node_modules/.bin/$1 "${@:2}"
}

function gupdate () {
  if [ $1 ]
  then
    gco $1 && gl && gprune && gco -
  else
    gco master && gl && gprune && gco -
  fi
}


export ANDROID_HOME=/usr/local/share/android-sdk
export JAVA_HOME=/Library/Java/Home

export EDITOR=vim 

export PATH="$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin"
if which code >/dev/null; then
  export EDITOR=code 
fi

if which code >/dev/null; then
  git config --global core.editor "code --wait" ;
fi

# Highlighting
if [ -d /usr/local/share/zsh-syntax-highlighting ]; then
  source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

if which kubectl >/dev/null; then
  source <(kubectl completion zsh)
fi

# fuck
if which thefuck >/dev/null; then
  eval $(thefuck --alias)
fi

#-tns-completion-
if [ -f ~/.tnsrc ]; then
    source ~/.tnsrc
fi

if [ -f ~/.gathering/source-gathering-zsh ]; then
  source ~/.gathering/source-gathering-zsh
fi

if [ -d ~/.fastlane/bin ] ; then
  export PATH="~/.fastlane/bin:$PATH"
fi

if [ -d ~/.pyenv ] ; then
  export PATH="$HOME/.pyenv/bin:$PATH"
  eval "$(pyenv init -)"
  eval "$(pyenv virtualenv-init -)"
fi

if which hub >/dev/null; then
  eval "$(hub alias -s)"
fi

source ~/.dotfiles/**/config.zsh
